<!DOCTYPE html>
<html lang="en">

<head>

  <title>Food</title>
</head>

<body>
  <%-include("header",{logo})%>
    <div class="container  d-flex  justify-content-around mt-5 py-4 " style="height:100%">
      <div id="carouselExampleControls" class="carousel slide  mt-5" data-bs-ride="carousel" style="width: 100%;">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="Image/Image3.jpg" class="d-block w-100 rounded-4" alt="...">
          </div>
          <div class="carousel-item">
            <img src="Image/Image2.jpg" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item">
            <img src="Image/Image3.jpg" class="d-block w-100" alt="...">
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls"
          data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls"
          data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
      <div class="container py-5">

        <h2 class="fw-bold px-4 productname">
          <%=value.name %>
        </h2>
        <p class="px-4"> some descriiption</p>
        <div class="priceBox mt-3">
          <button class="btn bg-success text-light fw-bold px-3  mx-4"> 4.5 <i class="fa fa-star "
              style="color: yellow;"></i> </button>
          <p class="mx-4 fw-bold fs-4 mt-4 "> <mark class="price">&#8377 <%=value.price %> .</mark> <del
              class="text-danger text-line"> 20% off</del>
          </p>
        </div>
        <div class="quntity mx-4 mt-4">
          <h5>Quantity</h5>
          <div class="size-group mt-4 d-flex gap-5">
            <button class="btn  btn-dark px-4 buttons fw-bold">+</button>
            <p class="fs-3 fw-bold quantity ">1</p>
            <button class="btn  btn-dark px-4 buttons fw-bold">-</button>
          </div>
          <div class="orderBtn  mt-4">
            <button class="btn btn-dark fw-bold py-2" onclick="AddToCart()">Add to Cart</button>
            <button class="btn btn-dark mx-3 py-2 fw-bold">Order now</button>
          </div>
          <div class="productDecription mt-5">
            <h4 class="bg-light p-4 shadow">Food Description</h4>
            <p class="mt-3 fw-bold fs-5 ">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Dolor, asperiores
              praesentium? Nostrum dolor ullam in.</p>
            <ul style="list-style: none;">
              <li class="py-3">Lorem ipsum dolor sit amet.</li>
              <li class="py-3">Lorem ipsum dolor sit amet.</li>
              <li class="py-3">Lorem ipsum dolor sit amet.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
 
    <script>
      let btns = document.querySelectorAll(".buttons");
      let quantiy = document.querySelector(".quantity")
      let num = 0;
      btns.forEach((btn) => {
        btn.addEventListener('click', function () {
          if (btn.innerHTML == "+") {
            if (quantiy.innerHTML == "10") {
              alert("Quantity  is must less than 10")
              quantiy.innerHTML == 10
            } else {
              num += 1;
              quantiy.innerHTML = num;
            }

          } else if (btn.innerHTML == "-") {

            if (quantiy.innerHTML == "0") {
              alert("Quanity must be greater than 1")
              quantiy.innerHTML = 0;
            } else {
              num -= 1;
              quantiy.innerHTML = num;
            }


          }

        })
      })
      //function for add to cart 
      /*<!-- function AddToCart() {
        let dataArray=[]
        let product_name = document.querySelector(".productname").innerHTML;
        let prices = parseInt(document.querySelector(".price").innerHTML);
        let quantity = parseInt(document.querySelector(".quantity").innerHTML)
        const productDetails = [
          {
            name: product_name,
            price: prices,
            quantity: quantity
          }];
        dataArray.push( JSON.stringify( productDetails));

        localStorage.setItem("MyProduct", dataArray)
        let cart = localStorage.getItem("MyProduct");
        const carts = JSON.parse(cart)
        console.log(carts)

      } */
      
      function AddToCart(){
        fetch("http://localhost:3000/cart", {
          method: "post",
          headers: {
            'Accept': 'application/json',
            'Content-Type': 'application/json'
          },
        
          //make sure to serialize your JSON body
          body: JSON.stringify({
            productName:"fjdsa",
            price:35,
            quantity:3
          })
        })
        .then( (response) => { 
           //do something awesome that makes the world a better place
        });
        }
    </script>

<%-include("footer") %>
</body>

</html>